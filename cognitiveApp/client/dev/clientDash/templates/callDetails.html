
<style>
	body {
		background-color: #1D1C19;
		padding-top:2em;
		padding-bottom:2em;
	}

	img {
		object-fit: fill;
		width: 5rem;
		position: relative;
		top: 50%;
		transform: translateY(-50%);
		padding-right:1rem;
	}

	.app-panel {
		margin-left: 4%;
		margin-right: 4%;
	}

	.row , .groupheader {
		margin-bottom:.5em;
	}

	.no-margin {
		margin:0;
	}

	.no-border {
		border: none;
	}

	.border-colored {
		border-width: 2px;
		border-radius: 0 0 .25rem .25rem;
	}

	.margin {
		margin-bottom:.5em;
	}

	.no-bottom-margin {
		margin-bottom:0;
	}
	.no-padding {
		padding:0;
	}

	.no-right-padding {
		padding-right: 0;
	}

	.no-left-padding {
		padding-left: 0;
	}

	.border-colored .card-block {
		padding:.5rem;
	}

	.small-card-block {
		padding:.5rem;
	}

	.small-card-block > h5 {
		margin-bottom:.5rem;
	}
</style>

<script>
	$( document ).ready(function() {
			$(".border-colored").addClass("priority1");
	});
</script>

<div class="container-fluid">
	<ng-include src="'clientDash/templates/navbar.html'"></ng-include>

	<div class="app-panel transition">

		<div class="row">
			<div class="col-12">
				<div class="card bg-primary">
					<div class="row no-bottom-margin">
						<div class="col-1">
								<a href="/queue"><img src="/common/images/back-arrow2.png" class="img-responsive mw-100"></a>
						</div>
						<div class="card-block col-10">
							<h4 class="display-3 text-center text-white">Call Details</h4>
						</div>
						<div class="col-1">
								<img src="/common/images/close-x.png" class="img-responsive mw-100" ng-click="closeDetail(callDetail._id)">
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="row">
			<div class="col-12">
				<div class="card no-border">
					<nav class="nav nav-pills" id="navigationTabs">
						<div class="row no-margin col-12 no-padding">
							<li class="nav-item col-12 col-lg-4 no-padding text-lg-center">
								<a class="nav-link active" data-toggle="tab"  href="#details" role="tab">Call Details</a>
							</li>
							<li class="nav-item col-12 col-lg-4 no-padding text-lg-center">
								<a class="nav-link" data-toggle="tab"  href="#previous" role="tab">Previous Calls</a>
							</li>
							<li class="nav-item col-12 col-lg-4 no-padding text-lg-center">
								<a class="nav-link" data-toggle="tab"  href="#related" role="tab">Related Incidents</a>
							</li>
						</div>
					</nav>
				</div>
			</div>
		</div>

		<div class="tab-content">

         <!-- Start Details Tab -->
         <div class="tab-pane active" id="details" role="tabpanel">
				<div class="row">
					<div class="col-12">
						<div class="">
							<div class="card col-12">
								<div class="row no-bottom-margin">
									<div class="small-card-block col-12 col-md-6 col-lg-4">
										<h5 class="card-title">Priority</h5>
										<p class="card-text">
											{{callDetail.slots.Priority}}
										</p>
									</div>
									<div class="small-card-block col-12 col-md-6 col-lg-4">
										<h5 class="card-title">Call Duration</h5>
										<p class="card-text">
											{{callDetail.startTime}} - {{callDetail.endTime}}
										</p>
									</div>
									<div class="small-card-block col-12 col-md-6 col-lg-4">
										<h5 class="card-title">Call Start Time</h5>
										<p class="card-text">
											{{callDetail.startTime}}
										</p>
									</div>
								</div>
								<div class="row no-bottom-margin">
									<div class="small-card-block col-12 col-md-6 col-lg-4">
											<h5 class="card-title">Emergency</h5>
											<p class="card-text">
												{{callDetail.slots.EmergencyType}}
											</p>
									</div>
									<div class="small-card-block col-12 col-md-6 col-lg-4">
											<h5 class="card-title">Caller Name</h5>
											<p class="card-text">
												{{callDetail.slots.Name}}
											</p>
									</div>
									<div class="small-card-block col-12 col-md-6 col-lg-4">
											<h5 class="card-title">Phone Number</h5>
											<p class="card-text">
												{{callDetail.slots.Phone}}
											</p>
									</div>
								</div>
								<div class="row no-bottom-margin">
									<div class="small-card-block col-12">
											<h5 class="card-title">Emergency Description</h5>
											<p class="card-text">
												{{callDetail.slots.EmergencyDescription}}
											</p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>


				<div class="row card-deck">

					<div class="col-12 col-lg-6 card-deck">
						<div class="card margin">
							<div class="small-card-block">
								<h5 class="card-title">Location</h5>
								<p class="card-text">
									{{callDetail.locationSpecific}} {{callDetail.locationCity}}, {{callDetail.locationState}}
								</p>
								<p class="card-text">
									Latitude, Longitude: {{callDetail.locationLat}}, {{callDetail.locationLong}}
								</p>
								<iframe width="100%" height="450" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDpK2IO0V5MZqBn9CUaseMZDHOpZnSxBwY
									&q=Mackinac+Hall,Allendale+MI" allowfullscreen>
								</iframe>
							</div>
						</div>
					</div>

					<div class="col-12 col-lg-6 card-deck">
						<div class="card margin">
							<div class="small-card-block">
								<h5 class="card-title">Transcript</h5>
								<p class="card-text">
									{{callDetail.slots.Transcript}}
								</p>
							</div>
						</div>
					</div>

				</div>
			</div>

			<!-- End Details Tab -->

			<!-- Start Previous Tab -->
			<div class="tab-pane" id="previous" role="tabpanel">
				<div class="row">
					<div class="col-12 col-lg-6  card-deck margin ">
						<div class="card ">
							<div class="card-header text-center">
								<h5> Call Details </h5>
							</div>
							<div class="small-card-block">
							<div class="small-card-block">
								<div class="margin">
									<h5 class="card-title">Priority</h5>
									<p class="card-text">
										{{callDetail.slots.Priority}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Call Duration</h5>
									<p class="card-text">
										{{callDetail.startTime}} - {{callDetail.endTime}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Call Start Time</h5>
									<p class="card-text">
										{{callDetail.startTime}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Emergency</h5>
									<p class="card-text">
										{{callDetail.slots.EmergencyType}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Caller Name</h5>
									<p class="card-text">
										{{callDetail.slots.Name}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Phone Number</h5>
									<p class="card-text">
										{{callDetail.slots.Phone}}
									</p>
								</div>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Emergency Description</h5>
								<p class="card-text">
									{{callDetail.slots.EmergencyDescription}}
								</p>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Location</h5>
								<p class="card-text">
									{{callDetail.locationSpecific}} {{callDetail.locationCity}}, {{callDetail.locationState}}
								</p>
								<p class="card-text">
									Latitude, Longitude: {{callDetail.locationLat}}, {{callDetail.locationLong}}
								</p>
								<iframe width="100%" height="450" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDpK2IO0V5MZqBn9CUaseMZDHOpZnSxBwY
									&q=Mackinac+Hall,Allendale+MI" allowfullscreen>
								</iframe>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Transcript</h5>
								<p class="card-text">
									{{callDetail.slots.Transcript}}
								</p>
							</div>
							</div>
						</div>
					</div>

					<div class="col-12 col-lg-6 ">
						<div class="card">
							<div class="card-header text-center">
								<h5>Previous Calls</h5>
							</div>
							<div class="small-card-block">
								<div class="groupheader card">
									<div class="card-header text-center">
										<h5> Related Incidents </h5>
									</div>
									<div class="card-block small-card-block">
										<!-- Insert the <div class="queue-row row"> of each incident in the group -->

									</div>
								</div>

								<div class="queue-row">
									<div class="col-12">
											<div class="row no-bottom-margin card-deck">
												<div class="col-12 card priority-block border-colored rounded-top">
													<p></p>
												</div>
											</div>
											<div class="row no-bottom-margin card-deck">
												<div class="card border-colored">
													<div class="small-card-block">
														<div class="row">
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Emergency</h5>
																<p class="card-text">
																	<!-- Traffic Accident -->
																	{{groupElement.dialogAction.slots.EmergencyType}}
																</p>
															</div>
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Call Duration</h5>
																<p class="card-text">
																	<!-- 10m 32s -->
																	{{groupElement.dialogAction.endTime}}-{{groupElement.dialogAction.startTime}}
																</p>
															</div>
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Caller Role</h5>
																<p class="card-text">
																	Victim
																	<!--{{caller.dialogAction.callerRole}} -->
																</p>
															</div>
															<div class="col-12 col-md-6 d-flex flex-column flex-sm-row">
																<div class="tile pr-3">
																	<h5 class="card-title margin">Previous</h5>
																	<p class="card-text">
																		##
																	</p>
																</div>
																<div class="tile">
																	<h5 class="card-title margin">Incident</h5>
																	<p class="card-text">
																		{{callDetailGroup.length}}
																	</p>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
									</div>
								</div>
							</div>
						</div>

					</div>

				</div>
			</div>

			<!-- End Previous Tab -->

			<!-- Start Related Tab -->
			<div class="tab-pane" id="related" role="tabpanel">
				<div class="row">
					<div class="col-12 col-lg-6  card-deck margin ">
						<div class="card ">
							<div class="card-header text-center">
								<h5> Call Details </h5>
							</div>
							<div class="small-card-block">
							<div class="small-card-block">
								<div class="margin">
									<h5 class="card-title">Priority</h5>
									<p class="card-text">
										{{callDetail.slots.Priority}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Call Duration</h5>
									<p class="card-text">
										{{callDetail.startTime}} - {{callDetail.endTime}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Call Start Time</h5>
									<p class="card-text">
										{{callDetail.startTime}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Emergency</h5>
									<p class="card-text">
										{{callDetail.slots.Emergency}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Caller Name</h5>
									<p class="card-text">
										{{callDetail.slots.FirstName}} {{callDetail.lastName}}
									</p>
								</div>
								<div class="margin">
									<h5 class="card-title">Phone Number</h5>
									<p class="card-text">
										{{callDetail.slots.Phone}}
									</p>
								</div>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Emergency Description</h5>
								<p class="card-text">
									{{callDetail.slots.EmergencyDescription}}
								</p>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Location</h5>
								<p class="card-text">
									{{callDetail.locationSpecific}} {{callDetail.locationCity}}, {{callDetail.locationState}}
								</p>
								<p class="card-text">
									Latitude, Longitude: {{callDetail.locationLat}}, {{callDetail.locationLong}}
								</p>
								<iframe width="100%" height="450" frameborder="0" style="border:0" src="https://www.google.com/maps/embed/v1/place?key=AIzaSyDpK2IO0V5MZqBn9CUaseMZDHOpZnSxBwY
									&q=Mackinac+Hall,Allendale+MI" allowfullscreen>
								</iframe>
							</div>
							<div class="small-card-block">
								<h5 class="card-title">Transcript</h5>
								<p class="card-text">
									{{callDetail.slots.Transcript}}
								</p>
							</div>
							</div>
						</div>
					</div>

					<div class="col-12 col-lg-6 ">
						<div class="card">
							<div class="card-header text-center">
								<h5>Related Calls</h5>
							</div>
							<div class="small-card-block">
								<div class="groupheader card">
									<div class="card-header text-center">
										<h5> Related Incidents </h5>
									</div>
									<div class="card-block small-card-block">
										<!-- Insert the <div class="queue-row row"> of each incident in the group -->

									</div>
								</div>


								<div class="queue-row" ng-repeat="groupElement in callDetailGroup">
									<div class="col-12">
											<div class="row no-bottom-margin card-deck">
												<div class="col-12 card priority-block border-colored rounded-top">
													<p></p>
												</div>
											</div>
											<div class="row no-bottom-margin card-deck">
												<div class="card border-colored">
													<div class="small-card-block">
														<div class="row">
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Emergency</h5>
																<p class="card-text">
																	<!-- Traffic Accident -->
																	{{groupElement.dialogAction.slots.EmergencyType}}
																</p>
															</div>
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Call Duration</h5>
																<p class="card-text">
																	<!-- 10m 32s -->
																	{{groupElement.dialogAction.endTime}}-{{groupElement.dialogAction.startTime}}
																</p>
															</div>
															<div class="col-12 col-md-6">
																<h5 class="card-title margin">Caller Role</h5>
																<p class="card-text">
																	Victim
																	<!--{{caller.dialogAction.callerRole}} -->
																</p>
															</div>
															<div class="col-12 col-md-6 d-flex flex-column flex-sm-row">
																<div class="tile pr-3">
																	<h5 class="card-title margin">Previous</h5>
																	<p class="card-text">
																		##
																	</p>
																</div>
																<div class="tile">
																	<h5 class="card-title margin">Incident</h5>
																	<p class="card-text">
																	 	{{groupElement.length}}
																	</p>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>

									</div>
								</div>
							</div>
						</div>


					</div>

				</div>
			</div>
			<!-- End Related Tab -->
		</div>

	</div>
</div>
